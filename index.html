<!doctype html>
<html>
	<img src="images/Hook42Logo.png" style="margin: 2rem; height: 7%; position: absolute;" />
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Custom Modules</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/hook42.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section class="present" style="top: 226px; display: block;">
					<h1 class="text__dark text__bold">
						Drupal 8 Custom Module Architecture </h1>
						<h3>What’s Going On? </h3>
					<p>Lindsay Gaudinier at Hook 42</p>
				</section>

				<section>
					<h3>About me</h3>
					<ul>
						<li class="fragment">Developer at Hook 42</li>
						<li class="fragment">Swimming, cats, and the internet</li>
					</ul>
					<div>
						<img src="images/dude.png" class="fragment" style="width: 250px;">
					</div>

				</section>

				<section>
					<h3>The Thought Behind the Talk</h3>
					<span class="font-25">
						<p class="fragment"> I had to create a custom module for the first time, and I had only modified code in the past</p>
						<div class="fragment ol-image">
							<img src="images/noideawhatsgoingon.gif" />
						</div>
						<p class="fragment">I didn't want to just know how to make a custom module, I wanted to know the answers to all my why questions</p>
					</span>
				</section>

				<section>
					<h3>Quick note: sometimes words are mentioned before they are defined. Please have patience.</h3>
				</section>

				<section>
					<h3>Do you need a custom module?</h3>
					<ul class="font-25">
						<li class="fragment">5,500 + Drupal 8 contrib modules with security updates and help from the Drupal universe</li>
						<li class="fragment">Might have a unique problem that contrib doesn't solve</li>
						<li class="fragment">Contrib module might be too bulky and hurt site performance</li>
						<li class="fragment">Bring in the functionality of many contrib modules into one custom module</li>
					</ul>
				</section>

				<section>
					<h3>We can't just start with the list of files</h3>
					<span class="fragment">
						<p>Nothing is ever that easy.</p>
						<img src="images/crying.gif" />
					</span>
				</section>

				<section>
					<h3>PSR-4: Improved Autoloading</h3>
					<ul class="font-25">
						<li class="fragment">PSR stands for PHP Standard Recommendation</li>
						<li class="fragment">PSR is a PHP specification that is published by the <a href="https://www.php-fig.org/">PHP Framework Interop Group (php-fig)</a> who's focus is to move "PHP foward through collaboration and standards"</li>
						<li class="fragment">Drupal 8 implements the PSR-4 standard for namespaces and autoloading</li>
						<li class="fragment"><a href="https://www.php-fig.org/psr/psr-4/">PSR-4</a>: "Autoloaders remove the complexity of including files by mapping namespaces to file system paths."</li>
					</ul>
					<img class="fragment" src="images/confused.gif" />
				</section>

				<section>
					<h3>Autoloading</h3>
					<ul>
						<li class="fragment">Autoloading is capability of loading and linking portions of a program automatically when needed. The autoloader searches through a path of directories and finds the code that defines the subroutine (method/function).</li>
						<li class="fragment">Autoloading means your code does not need to include a long list of source files in your php file</li>
						<li class="fragment">The magic of autoloading works because of namespacing</li>
					</ul>
				</section>

				<section>
					<h3>Namespacing</h3>
					<ul>
						<li class="fragment">"Namespaces are commonly structured as hierarchies to allow reuse of names in different contexts." - <a href="https://en.wikipedia.org/wiki/Namespace">Wikipedia</a></li>
						<li class="fragment">Namespacing helps you avoid name collisions if you repeat the name for a function/class that was declared before</li>
						<li class="fragment">Eliminates need for super long class names, points to where in the code you can find the function source</li>
					</ul>
				</section>

				<section>
					<h3>Composer</h3>
					<ul>
						<li class="fragment">
							Dependency/package manager: software the automates the process of installing upgrading, configuring and removing software.
						</li>
						<li class="fragment">
							Composer is a dependency manager for PHP, that assists with locating, downloading, validating, and loading packages and ensures you have the correct package version
						</li>
					</ul>
				</section>

				<section>
					<h3> Symfony</h3>
					<ul>
						<li class="fragment">Symfony is a PHP framework and a set of reuasable PHP components and libraries</li>
						<li class="fragment">Defined as a MVC (Model, View, and Controller) framework</li>
						<li class="fragment">Components are standalone PHP libraries that generate specific features</li>
					</ul>
				</section>

				<section>
					<h3>Some Symfony Components</h3>
					<ul class="font-20">
						<li><strong>ClassLoader:</strong> provides tools to autoload classes and cache their locations for performance</li>
						<li><strong>Console:</strong> helps you create command line interfaces</li>
						<li><strong>CssSelector:</strong> converts CSS selectors to XPath (XML Path language) expression</li>
						<li><strong>DependencyInjection:</strong> lets you standardize and centralize the way objects are constructed</li>
						<li><strong>EventDispatcher:</strong> lets components communicate with each other</li>
						<li><strong>HttpFoundation:</strong> defined an object-oriented layer for the HTTP specification</li>
						<li><strong>HttpKernel:</strong> converts a HTTP Request into a HTTP Respose by using a EventDispatcher component</li>
						<li><strong>Process:</strong> executes commands in subprocesses, creates APi for shell executions https://symfony.com/doc/current/components/process.html</li>
						<li><strong>Routing:</strong> maps an HTTP request to a set of configurable variables</li>
						<li><strong>Serializer:</strong> turn objects into specific formats (YAML) and specific formats into objects</li>
						<li><strong>Translation:</strong> provides tools for internationalization</li>
						<li><strong>Validator:</strong> validates following <a href="https://jcp.org/en/jsr/detail?id=303">JSR 303: Bean Validation</a></li>
						<li><strong>Yaml:</strong> parses YAML strings to conver them to PHP arrays, and vice versa</li>
					</ul>
				</section>

				<section>
					<h3>Why are you telling me this?</h3>
					<img src="images/why.gif" />
					<ul class="font-25">
						<li class="fragment">
							Autoloading and namespacing play an important role in how and why we structure files and code in a module
						</li>
						<li class="fragment">
							While Drupal Core uses Composer, you can also manage dependencies for your custom module with Composer
						</li>
						<li class="fragment">
							While Drupal 8 does NOT use the Symfony framework, D8 uses some Symfony components
						</li>
					</ul>

				</section>

				<section>
					<h3>Types of files:</h3>
					<ul>
						<li class="fragment">YAML (YAML Ain't Markup Language): .yml, .yaml</li>
						<li class="fragment">PHP: Hypertext Preprocessor: .php </li>
						<li class="fragment">Markdown: .md</li>
						<li class="fragment">Javascript Object Notation (JSON): .json</li>
						<li class="fragment"> Module: .module</li>
						<li class="fragment"> Javascript: .js	</li>
						<li class="fragment"> CSS (Cascading Style Sheets): .css</li>
					</ul>
				</section>

				<section>
					<h3>Naming the module</h3>
					<ul>
						<li class="fragment">Start with a letter</li>
						<li class="fragment">Contain only lower-case letters and underscores</li>
						<li class="fragment">No spaces</li>
						<li class="fragment">Unique name</li>
						<li class="fragment">Does not contain any reserved words: src, lib, vendor, assets, css, files, images, js, misc, templates, includes, fixtures, Drupal</li>
					</ul>
				</section>

				<section>
					<h3>The Module Skeleton</h3>
					<img src="images/skeleton.gif" style="width: 400px;"/>
				</section>

				<section>
					<h3 class="font-20">Capable Module</h3>
					<div class="module-files">
<pre class="font-10">
modules
	/contrib
	/custom
		/capable
			README.md
			STANDARDS.md
			TESTING.md
			capable.api.php
			capable.data.inc
			capable.info.yml
			capable.libraries.yml
			capable.links.menu.yml
			capable.module
			capable.permissions.yml
			capable.routing.yml
			capable.services.yml
			capable.task.yml
			composer.json
			/config
				/install
					capable.settings.yml
				/schema
					capable.schema.yml
			/css
				capable.form.css
				capable.miscellaneous.css
				capable.module.css
				capable.template.css
				capable.theme.css
			/js
				main.js
			/src
				/Controller
					CapableController.php
				/Entity
					Robot.php
				/Form
					CapableForm.php
				/Plugin
					/Block
						CapableBlock.php
			/templates
				welcome.html.twig
			/tests
				/src
					/Functional
						ExampleFunctionalTest.php
					/Kernel
						ExampleKernelTest.php
					/Unit
						ExampleUnitTest.php
</pre>
					</div>
				</section>

				<section>
					<h3>capable.info.yml</h3>
					<ul>
						<li class="fragment">The info.yml file lives in your root folder and tells Drupal about your module</li>
						<li class="fragment">The info.yml file information can be found on the Drupal admin pages (/admin/modules)</li>
						<li class="fragment">Technically, the only required file in your module (although the module won't do anything)</li>
					</ul>
					<img class="fragment" src="images/capable-module-info-file.png" />
				</section>

				<section>
					<h3>What's going on?</h3>
					<div class="left-40">
						<img src="images/capable-module-info-file.png"/>
					</div>
					<div class="right-60">
						<img src="images/capable-module-info-screenshot.png"/>
					</div>
				</section>

				<section>
					<h3>capable.info.yml complete example</h3>
					<div class="left">
						<img src="images/capable-module-info-file-2.png" class="fragment" />
					</div>
					<div class="right font-16">
						<ul>
							<li class="fragment">
							<strong>depedencies:</strong>
								<ul>
									<li>List the other module(s) that your module depends on to work.</li>
									<li>Namespacing: {project}:{module}</li>
									<li>{project} is the name as it appears in the Drupal.org url (https://www.drupal.org/project/token)</li>
									<li>{module} is the module machine name (token)</li>
									<li>Can also include version restrictions: token:token (8.x-1.3)</li>
								</ul>
							</li>
							<li class="fragment">
								<strong>test_dependencies:</strong>
								<ul>
									<li>List the module(s) you need to run automated tests</li>
									<li>Same namespacing as dependecies: {project}:{module} </li>
								</ul>
							</li>
							<li class="fragment">
								<strong>configure:</strong>
								<ul>
									<li>Specify the route to a configuration form</li>
									<li>This will show on the /admin/modules pages when you expand [this needs different words or an image]</li>
								</ul>
							</li>
							<li class="fragment">
								<strong>php:</strong>
								<ul>
									<li>Defines the <strong>minimum</strong> PHP verison that your module requires</li>
									<li>Can't enable the module if your PHP version is older</li>
								</ul>
							</li>
							<li class="fragment">
								<strong>hidden:</strong>
								<ul>
									<li>hidden: true, will hide your your module on the /admin/modules page</li>
									<li>Why would you hide your module? Perhaps it only implements tests and you don't want it disabled</li>
								</ul>
							</li>
						</ul>
					</div>
				</section>

				<section>
					<h3>The Controller File</h3>
					<ul class="font-25">
						<li class="fragment">Following PSR-4, the controller file will live inside a folder called src, and then in a folder called Controller</li>
						<li class="fragment">src stands for source</li>
					</ul>
					<img src="images/source-folder.png" class="fragment"/>
					<ul class="font-25" style="width: 100%">
						<li class="fragment">Need to declare a namespace at the top.</li>
						<li class="fragment">Namespace format: Drupal\[module name]\Controller;</li>
						<li class="fragment">The controller file will work with the router file</li>
					</ul>
				</section>

				<section>
					<h3>CapableController.php</h3>
					<img src="images/capable-controller-file.png" style="float: left;"/>
					<ul class="font-20" style="float: right; width: 46%;">
						<li class="fragment">
							<strong>namespace Drupal\capable\Controller:</strong> declaring the namespace for the capable Controller class <br />
							- this must be done before any other code (except a declare statement)
						</li>
						<li class="fragment">
							<strong>use Drupal\Core\Controller\ControllerBase: </strong> importing (aliasing) the Drupal core ControllerBase, which is being extended by CapableController class. <br />
							- Do not include a leading \ <br />
							- Only specify one class per use statement. <br />
							- No clear rule to order for multiple use statements. <br />
							- Final use statement should habe a blank line underneath it.
						</li>
						<li class="fragment">
							<strong>class CapableController extends ControllerBase:</strong> creation of CapableController class that extends Drupal's core ControllerBase class
						</li>
						<li class="fragment">
							<strong>public function content():</strong> take note of the name of the function, this will come back in the routing file
						</li>
					</ul>
				</section>

				<section>
					<h3>The Routing File</h3>
					<ul class="font-25">
						<li class="fragment">A route is a path where Drupal returns some sort of content</li>
						<li class="fragment">The router determines which code should be run to generate the response.	</li>
						<li class="fragment">The routing system is responsible for matching paths to controllers.</li>
					</ul>
					<img src="images/capable-module-routing-file.png" class="fragment" />
				</section>

				<section>
					<h3>capable.routing.yml</h3>
					<img src="images/routing-file-simple.png" />
				</section>

				<section>
					<h3>Routing + Controller Working Together</h3>
					<img src="images/routing-file-simple-outlined.png" style="height: 130px; vertical-align: top;"/>
					<img src="images/capable-controller-file-outlined.png" style="height: 225px;"/>
					<img src="images/routing-file-screenshot.png" style="height: 275px;" />
				</section>

				<section>
					<h3>Parameters in Routes</h3>
					<ul class='font-20'>
						<li class="fragment">Parameters are used for URLs that may contain dynamic values. <br />
							/parameters/[partial] would work for both /parameters/hello and /parameters/goodbye </li>
						<li class="fragment"> The [partial] element in the url is called a slug, and is is avaible as a $partial in the controller method</li>
						<li class="fragment">You can even have multiple parameters on a single route: product/[product#]/[color]</li>
						<div class="fragment">
							<img src="images/router-parameters.png" class="left"/>
							<img src="images/controller-parameters.png" class="right"/>
						</div>
					</ul>
				</section>

				<section>
					<h3>Parameters in Routes</h3>
					<img src="images/parameters-hello.png" style="width: 600px;"/>
					<img src="images/parameters-goodbye.png" style="width: 600px;" />
				</section>

				<section>
					<h3>Module Menu Link</h3>
					<p class="font-25">Menu link to the module in the Development section of the Administration >> Configuration (/admin/config)</p>
					<img src="images/capable-module-links-file.png" />
				</section>

				<section>
					<h3>Module Menu Link</h3>
					<img src="images/capable-module-links-menu.png" />
					<img src="images/capable-module-links-routing.png" class="left"/>
					<img src="images/capable-module-menu-controller.png" class="right"/>
				</section>

				<section>
					<h3>Module Menu Link Screenshot</h3>
					<img src="images/capable-module-menu-links-screenshot.png" style="height: 500px;"/>
				</section>

				<section>
					<h3>Module Menu Link Flexibility</h3>
					<p>You can also set the [module].links.menu.yml to link to external links or to an internal path</p>
					<div class="left font-20">
						External Link
						<img src="images/capable-module-menu-links-external.png" />
					</div>
					<div class="right font-20">
						Internal Link
						<img src="images/capable-module-menu-links-internal.png"/>
					</div>
				</section>

				<section>
					<h3>capable.module</h3>
					<ul>
						<li class="fragment">
							The capable.module file is optional
						</li>
						<li class="fragment">
							Used for implementing hooks
						</li>
					</ul>
					<img src="images/hooks.gif"  class="fragment"/>
				</section>

				<section>
					<h3>Introduction to Hooks</h3>
					<ul class="font-20">
						<li class="fragment">
							Hooking: range of techniques that lets you change the behavior of applications by intercepting events passed between software components.
						</li>
						<li class="fragment">
							Hook: the code that handles this interception
						</li>
						<li class="fragment">
							Hooks in Drupal let modules interact with other modules or Drupal core
						</li>
						<li class="fragment">
							Hooks can be thought of event listeners that fire off when a certain event triggers them, and can be used at various code execution point
						</li>
						<li class="fragment">
							In Drupal 8, some hooks have remained the same, some have been removed, others have been modified, and some have been added. <a href="https://api.drupal.org/api/drupal/core%21core.api.php/group/hooks/8.5.x">For the entire list of core hooks, click here. </a>
						</li>
						<li class="fragment">
							To implement a hook, replace the hook name of the function with the name of your module:
							<ul>
								<li>
									<a href="https://api.drupal.org/api/drupal/core%21modules%21help%21help.api.php/function/hook_help/8.2.x"> hook_help()</a> → capable_help()
								</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h3>capable.module</h3>
					<img src="images/capable-module-module-file.png" style="height: 200px; vertical-align: top;" class="fragment"/>
					<img src="images/capable-module-module-file-code.png" style="height: 300px;" class="fragment"/>
					<img src="images/capable-module-module-file-screenshot.png" style="height: 200px;" class="fragment" />
				</section>

				<section>
					<h3>composer.json</h3>
					<ul class="font-25">
						<li class="fragment">
							If your module has a dependency to a third party library hosted on Packagist, you can define this dependency
						</li>
						<li class="fragment">
							Also declared dependencies in your info.yml file, but composer.json can let you get more specific with constraints
						</li>
						<li class="fragment">
							If your module does not have any dependencies, composer.json is not required, but having it will not have a negative impact
						</li>
					</ul>
				</section>

				<section>
					<h3>composer.json</h3>

 				</section>

				<section>
					<h3>Composer</h3>
				</section>

				<section>
					<h3>Forms</h3>
					<ul class="font-25">
						<li class="fragment">
							<a href="https://www.drupal.org/docs/8/api/form-api/introduction-to-form-api">Introduction to Form API</a>
							<ul>
								<li>
									API: application programming interface is a set of functions and tools for building software with clearly defined methods of communication
								</li>
							</ul>
						</li>
						<li class="fragment">
							Need to idenfity the type of form you need
						</li>
						<ul class="fragment">
							<li>
								General form: extend <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Form%21FormBase.php/class/FormBase/8">Form Base</a>
							</li>
							<li>
								A configuration form that lets administrators update a module settings: extend <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Form%21ConfigFormBase.php/class/ConfigFormBase/8">ConfigFormBase</a>
							</li>
							<li>
								A form for deleting content or configuation with a confirmation step: extend <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Form%21ConfirmFormBase.php/class/ConfirmFormBase/8">ConfirmFormBase</a>
							</li>
						</ul>
						<li class="fragment">
							Required methods:
								<ul>
									<li>
										getFormId()
									</li>
									<li>
										buildForm()
									</li>
									<li>
										validateForm()
									</li>
									<li>
										submitForm()
									</li>
								</ul>
						</li>
					</ul>
				</section>

				<section>
					<h3>CapableForm.php</h3>
					<div class="left">
						<img src="images/capable-form-routing-screenshot.png" />
					</div>
					<div class="right">
						<img src="images/capable-form-screenshot.png" />
					</div>
				</section>

				<section>
					<h3>CapableForm.php</h3>
					<div class="left">
						<img src="images/capable-form-php-file.png" />
					</div>
					<div class="right">
						<img src="images/capable-form-screenshot-site.png" />
					</div>
				</section>

				<section>
					<h3>Configuration</h3>
					<ul class="font-25">
						<li class="fragment">
							Configuration is a place to store information you would like to synchronize from development to production. This information can be used in your own plugins, <a href="https://www.drupal.org/docs/8/api/entity-api/introduction-to-entity-api-in-drupal-8">entities</a> (objects that are used for persistent storage of content and configuration information) and settings.
						</li>
						<span class="fragment">
						<li style="float: left; width: 50%; margin-right: 20px;">
							Lives under a /config directory
							<ul>
								<li>
									/install directory
								</li>
									<ul>
										<li>
											Configuration defaults live under the /config/install directory
										</li>
										<li>
											capable.settings.yml: This file stores configuration defaults, which are assigned to the correct fields via the next file
										</li>
									</ul>
								<li>
									/schema directory
									<ul>
										<li>
											<a href="https://en.wikipedia.org/wiki/Database_schema">Schema</a>: the organization of the structure of the database
										</li>
										<li>
											capable.schema.yml: define a custom table for your module
										</li>
									</ul>
								</li>
							</ul>
						</li>
							<img src="images/config-file-location.png" style="width: 40%"/>
						</span>
					</ul>
				</section>

				<section>
					<h3>Configuration</h3>
					<img src="images/config-settings.png" style="vertical-align: top;"/>
					<img src="images/config-schema.png" style="vertical-align: top;"/>
					<img src="images/config-database.png" />
				</section>

				<section>
					<h3>Configuration</h3>
					<img src="images/config-routing.png" style="vertical-align: top;"/>
					<img src="images/config-controller.png" style="vertical-align: top;"/>
				</section>

				<section>
					<h3>Configuration</h3>
					<img src="images/config-screenshot.png" />
				</section>

				<section>
					<h3>Permissions</h3>
					<ul class="font-25">
						<li class="fragment">
							Permissions are defined in a [modulename].permissions.yml instead of using hook_permission()
						<li class="fragment">
							Static permissions: do not depend on system information
						</li>
						<li class="fragment">
							Dynamic permissions: generated by system specific information (node type, user role)
						</li>
					</ul>
					<img src="images/permissions-file-location.png"  class="fragment"/>
				</section>

				<section>
					<h3>Static Permission</h3>
					<img src="images/capable-module-permissions-restrict-false.png" style="height: 100px" class="no-margin"/>
					<img src="images/capable-module-edit-permission-notrestricted-screenshot.png" style="height: 340px; display: table; margin-left: auto; margin-right: auto;" />
					<img src="images/capable-module-edit-permission-restricted-screenshot.png" style="height: 75px" class="no-margin"/>
				</section>

				<section>
					<h3>Routing Permissions</h3>
					<img src="images/permissions-routing-file.png" />
				</section>

				<section>
					<h3>Services</h3>
					<ul style="width: 50%; float: left; font-size: 32px;">
						<li class="fragment">
							A <a href="https://www.drupal.org/docs/8/api/services-and-dependency-injection">service</a> is any reusable PHP object that does something
						</li>
						<li class="fragment">
							Managed by the services container
						</li>
						<li class="fragment">
							Services performa operations like accessing the database, sending email or translating user interface text
						</li>
						<li class="fragment">
							<a href="https://www.drupal.org/docs/8/api/services-and-dependency-injection/structure-of-a-service-file">[modulename].services.yml</a> will live in the root of the module
						</li>
					</ul>
					<img src="images/services-files.png" />
				</section>

				<section>
					<h3>Services</h3>
					<img src="images/services-yml.png" style="vertical-align: top;"/>
					<img src="images/capable-services.png" />
				</section>

				<section>
					<h3>Services</h3>
					<img src="images/services-router.png" style="width: 50%; vertical-align: top;"/>
					<img src="images/services-controller.png" />
				</section>

				<section>
					<h3>Services</h3>
					<img src="images/services-screenshot.png" />

				</section>

				<section>
					<h3>Plugins and Custom Blocks</h3>
					<div class="left font-25">
						<ul>
							<li class="fragment">
								Plugins are small pieces of functionality that are swappable
							</li>
							<li class="fragment">
								Plugins that perform similar funcitonality are of the same plugin type
							</li>
							<li class="fragment">
								Blocks are instances of the block <a href="https://www.drupal.org/developing/api/8/plugins">plugin</a>.
							</li>
							<li class="fragment">
									Plugin code must live in /src/Plugin/[plugin_type]/Example.php
								<ul>
									<li>
										Blocks: /src/Plugin/Block/*
									</li>
									<li>
										Field formatters, Field widgets: /src/Plugin/Field/*
									</li>
									<li>
										Views plugins: /src/Plugin/views/*
									</li>
								</ul>
							</li>
						</ul>
					</div>
					<div class="right fragment">
						<img src="images/capable-custom-block-plugin-file-location.png" />
					</div>
				</section>

				<section>
					<h3>CapableBlock.php</h3>
					<div class="left-40">
						<img src="images/capable-custom-block-plugin-code.png" />
					</div>
					<div class="right-60">
						<img src="images/capable-custom-block-plugin-screenshot.png" />
					</div>
				</section>

				<section>
					<h3>Module Theming</h3>
				</section>

				<section>
					<h3>Libraries</h3>
					<ul class="font-25">
						<li class="fragment">
							A library is a "collection of implementations of behavior... that has a well-defined interface by which the behavior is invoked." - <a href="https://en.wikipedia.org/wiki/Library_(computing)">Wikipedia</a>
						</li>
						<li class="fragment">
							Define one or more libraries (assets) in [modulename].libraries.yml
						</li>
						<li class="fragment">
							Must explicitly tell Drupal the libraries you want it to load, including CSS and JS files
						</li>
						<li class="fragment">
							Drupal 8 no longer loads jQuery on all pages on default, so you must tell Drupal that your library has a dependency on jQuery.
						</li>
						<li class="fragment">
							Attach the library to a render array in a hook
						</li>
					</ul>
					<img src="images/libraries.gif" class="fragment" style="height: 200px;"/>
				</section>

				<section>
					<h3>capable.libraries.yml</h3>
					<img src="images/capable-libraries-file-location.png" class="fragment" style="vertical-align: top;"/>
					<img src="images/capable-libraries-file.png"  class="fragment" style="vertical-align: top;"/>
					<img src="images/css-js-assets.png" class="fragment" style="vertical-align: top;"/>
				</section>

				<section>
					<h3>Load the Library</h3>
					<ul class="font-25">
						<li>
							 Attach a library in several ways:
							<ol>
								<li class="fragment">
									<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Render%21theme.api.php/function/hook_element_info_alter/8.3.x" >hook_element_info_alter()</a>: a module implements this hook to alter the element type defaults defined by a module
								</li>
								<li class="fragment">
									<a href="https://www.drupal.org/docs/8/api/render-api/render-arrays">Render array</a>: a structured array that provides data (probably nested) along with hints as to how it should be rendered
								</li>
								<li class="fragment">
									<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Render%21theme.api.php/function/hook_page_attachments/8.3.x">hook_page_attachments()</a>: conditionally add assets to a page
								</li>
								<li class="fragment">
									<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Render%21theme.api.php/function/hook_preprocess_HOOK/8.3.x">template_preprocess_hook()</a>: lets modules preprocess theme variables for a specific theme hook
								</li>
								<li class="fragment">
									<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Template%21TwigExtension.php/function/TwigExtension%3A%3AattachLibrary/8.3.x">{{ attach_library(‘example/example’) }}</a>: attaches an asset to a the twig template
								</li>
							</ol>
							<li class="fragment">
								Note: <code>drupal_add_css()</code>, <code>drupal_add_js()</code> and <code>drupal_add_library()</code> were replaced with <code> #attached</code>
							</li>
						</li>
					</ul>
				</section>

				<section>
					<h3>Globally Load a Library </h3>
					<span class="font-20">Attach the library to all pages with hook_page_attachments in capable.module</span>
					<img src="images/globally-attach-page-attachments.png" />
				</section>

				<section>
					<h3>Globally Load a Library </h3>
					<img src="images/globally-attach-screenshot.png" style="height: 350px" class="no-margin"/>
					<img src="images/globally-attach-file-load.png" style="height: 200px"/>
				</section>

				<section>
					<h3>Load Library to a Form</h3>
					<div>
						<span class="font-20">Attach the library in the render array buildForm function in the CapableForm.php file<br />
						<code>$form['#attached']['library'][] = 'module-name/library-name'</code></span>
						<img src="images/form-library-attached.png" />
					</div>
				</section>

				<section>
					<h3>Load Library to a Form</h3>
					<img src="images/form-library-attached-screenshot.png" style="height: 300px;" class="no-margin"/>
					<img src="images/form-library-loading.png"/>
				</section>

				<section>
					<h3>Load a Library to an element</h3>
					<span class="font-20">Attach a library to a specific <code>#type</code>: the library only loads if that #type exists</span>
					<img src="images/type-select.png" style="height: 160px; float: left;"/>
					<img src="images/capable-element-info-alter.png" style="height: 400px; float: right;"/>
				</section>

				<section>
					<h3>Load a Library to an element</h3>
					<img src="images/form-library-type-attached-screenshot.png" />
				</section>

				<section>
					<h3>Load a Library to a twig template</h3>
					<span class="font-20"><code>{{ attach_library('your_module/library_name') }}</code></span><br />
					<img src="images/wecome-html-twig-file.png" style="height: 500px;"/>
				</section>

				<section>
					<h3>Load a Library to a twig template</h3>
					<img src="images/welcome-page-screenshot.png" />
				</section>

				<section>
					<h3>CSS</h3>
					<ul class="font-20">
						<li class="fragment">
							All styles should be placed under the css folder
						</li>
						<li class="fragment">
							Drupal 8 folows <a href="https://smacss.com/">SMACSS-style</a> categorization of its CSS rules
							<ul>
								<li>
									Base: CSS reset/normalize plus HTML element styling. Weight: -200
								</li>
								<li>
									Layout: macro arrangement of a web page, including any grid systems. Weight: -100
								</li>
								<li>
									Component: discrete, reusable UI elements. Weight: 0
								</li>
								<li>
									State: styles that deal with client-side changes to components. Weight: 100
								</li>
								<li>
									Theme: purely visual styling (“look-and-feel”) for a component. Weight: 200
								</li>
							</ul>
						</li>
						<li class="fragment">
							CSS file organization
							<ul>
								<li>
									<code>module_name.module.css</code>: minimal styles needed to get the module's functionality working, includes layout, component and state styles.
								</li>
								<li>
									<code>module_name.theme.css</code>: extra styles to make the module's functionality aesthetically pleasing, consists of theme styles.
								</li>
								<li>
									<code>module_name.admin.css</code>: minimal styles needed to get the module's admin screens working, includes layout, component and state styles. On admin screens, the module may choose to load the *.module.css in addition to the *.admin.css file.
								</li>
								<li>
									<code>module_name.admin.theme.css</code>: extra styles to make the module's admin screens aesthetically pleasing, consists of theme styles.
								</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h3>CSS Weights</h3>
					<img src="images/css-loading-weights.png" style="vertical-align: top;"/>
					<img src="images/capable-libraries-file.png" />
				</section>

				<section>
					<h3>Javascript</h3>
				</section>

				<section>
					<h3>jQuery</h3>
					<ul class="font-25">
						<li>
							<a href="https://jquery.com/">jQuery</a> is a fast, small, and feature-rich JavaScript library
						</li>
						<li>
							jQuery<a href="https://www.drupal.org/node/1541860"> does not automatically load</a> on all pages in D8
						</li>
						<img src="images/javascript-jquery-file.png" />
						<img src="images/javascript-include-jquery.png"/>
					</ul>
					</section>

				<section>
					<h3>jQuery</h3>
					<img src="images/javascript-screenshot.png"/>
				</section>

				<section>
				<h3>Configurable Javascript</h3>
				<ul class="font-25">
					<li>
						Use configurable JavaScript when you use JavaScript that works with computed PHP information
					</li>
					<li>
						Need to attach drupalSettings to the library and attach that library
					</li>
				</ul>
				<img src="images/configurable-javascript-form.png" style="vertical-align: top;"/>
				<img src="images/configurable-javascript-js-file.png" />
				</section>

				<section>
					<h3>Configurable Javascript</h3>
					<img src="images/configurable-javascript-screenshot.png" style="height: 500px;"/>
				</section>

				<section>
					<h3>JavaScript: CDN / Externally hosted libraries</h3>
					<p class="font-25">
						Improves load speed, but will need to declare that the library is external
					</p>
					<img src="images/javascript-external.png" />
				</section>

				<section>
					<h3>Twig Templates</h3>
					<ul class="font-25">
						<li class="fragment">
							<a href="https://twig.symfony.com/doc/1.x/">Twig</a> is a flexible templating engine for PHP, helps you create custom pages
						</li>
						<li class="fragment">
							The <a href="https://www.drupal.org/docs/8/theming/twig"> *.html.twig files</a> have replaced the *.tpl.php files of Drupal 7
						</li>
						<li class="fragment">
							Steps to create custom twig templates for custom module
							<ol class="fragment">
								<li>
									Define the hook_theme in the .module file
								</li>
								<li>
									Call the template
								</li>
								<li>
									Create the twig template, located in a templates folder
								</li>
							</ol>
						</li>
					</ul>
				</section>

				<section>
					<h3>1. Define the hook_theme</h3>
					<img src="images/capable-module-twig.png" />
				</section>

				<section>
					<h3>2. Call the template</h3>
					<img src="images/capable-controller-twig.png" />
					<img src="images/capable-router-twig.png" style="vertical-align: top;"/>
				</section>

				<section>
					<h3>3. Create the twig template</h3>
					<img src="images/capable-module-templates-folder.png" style="height:500px;"/>
					<img src="images/twig-template.png"  style="height:500px;"/>
				</section>

				<section>
					<h3>Testing</h3>
					<ul class="font-25">
						<li>
							QA your module to make sure its working, tests run by Drupal
						</li>
						<li>
							Tests live under the /tests/src folder and then under its relative folder (Functional, Kernel, Unit)
							<ul>
								<li>
									Unit: tests on functions methods and classes. Extend the base class <a href="https://api.drupal.org/api/drupal/core%21tests%21Drupal%21Tests%21UnitTestCase.php/class/UnitTestCase/8.3.x">UnitTestCase</a>
								</li>
								<li>
									Kernel: integration test that test on components. Extend the base classes: <a href="https://api.drupal.org/api/drupal/core%21tests%21Drupal%21KernelTests%21KernelTestBase.php/class/KernelTestBase/8.3.x">KernelTestBase</a> and <a href="https://api.drupal.org/api/drupal/core%21tests%21Drupal%21KernelTests%21Core%21Entity%21EntityKernelTestBase.php/class/EntityKernelTestBase/8.3.x"> EntityKernelTestBase</a>
								</li>
								<li>
									Functional: test on the complete system. Tutorials for <a href="https://www.drupal.org/docs/8/phpunit/phpunit-browser-test-tutorial">BrowserTestBase</a> and <a href="https://www.drupal.org/docs/8/phpunit/phpunit-javascript-testing-tutorial">JavascriptTestBase</a>
									<ul>
										<li>
											BrowserTestBase: test web-based behaviors and interactions. Spins up a complete Drupal installation and veritual web browser, and tests int he virtual web browser.
										</li>
										<li>
											JavascriptTestBase: tests how the system works for a user with Javascript enabled.
										</li>
										<li>
											Legacy support for Simpletest's <a href="https://api.drupal.org/api/drupal/core%21modules%21simpletest%21src%21WebTestBase.php/class/WebTestBase/8.3.x">WebTestBase</a> framework
										</li>
									</ul>
								</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h3>Testing</h3>
					<img src="images/capable-test-file-location.png" />
					<img src="images/capable-test-file.png" style="vertical-align: top;" />
				</section>

				<section>
					<h3>Run the Tests</h3>
					<ol class="font-20">
						<li class="fragment">
							Enable the Testing module
						</li>
						<li class="fragment">
							Navigate to admin/config/development/testing
						</li>
						<img src="images/capable-test-before.png" style="height: 200px;" class="fragment"/>
						<li class="fragment">
							Select the group name
						</li>
						<li class="fragment">
							Click Run tests
						</li>
						<img src="images/capable-test-pass.png" style="height: 220px;" class="fragment"/>
					</ol>
				</section>

				<section>
					<h3>Documentation</h3>
					<ul class="font-25">
						<li>
							<a href="https://www.drupal.org/docs/develop/documenting-your-project/readme-template">README.md</a>: general information about the module including - Table of Contents, Introduction (summary of the module), Requirements, Recommended modules, Installation, Configuration, Troubleshooting, FAQ and Maintainers
						</li>
						<li>
							<a href="http://cgit.drupalcode.org/examples/tree/STANDARDS.md">STANDARDS.md</a>: details coding standards for the module
						</li>
						<li>
							<a href="http://cgit.drupalcode.org/examples/tree/TESTING.md">TESTING.md</a>: details of how to test the module
						</li>
					</ul>
				</section>

				<section>
					<h2>All The Sources</h2>
					<img src="images/read-all-the-things.png" />
				</section>

				<section>
					<span class="bibliography">
					<div class="font-10 bib">
						<h3>General</h3>
						<ul>
							<li><a href="https://www.drupal.org/docs/8/creating-custom-modules/a-practical-guide-to-building-basic-drupal-8-modules">https://www.drupal.org/docs/8/creating-custom-modules/a-practical-guide-to-building-basic-drupal-8-modules</a></li>
							<li><a href="https://docs.acquia.com/en/stable/tutorials/fast-track-drupal-8-coding/define-custom-config-entity/">https://docs.acquia.com/en/stable/tutorials/fast-track-drupal-8-coding/define-custom-config-entity/</a></li>
							<li>
								<a href="https://en.wikipedia.org/wiki/Application_programming_interface">https://en.wikipedia.org/wiki/Application_programming_interface</a>
							</li>
							<li>
								<a href="https://www.drupal8.ovh/index.php/en">https://www.drupal8.ovh/index.php/en</a>
							</li>
							<li>
								<a href="	https://www.drupal.org/node/120641">	https://www.drupal.org/node/120641</a>
							</li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Namespaces</h3>
						<ul>
							<li><a href="https://www.sitepoint.com/php-53-namespaces-basics/">https://www.sitepoint.com/php-53-namespaces-basics/</a></li>
							<li><a href="https://www.drupal.org/docs/develop/coding-standards/namespaces">https://www.drupal.org/docs/develop/coding-standards/namespaces</a></li>
							<li><a href="https://en.wikipedia.org/wiki/Namespace">https://en.wikipedia.org/wiki/Namespace</a></li>
							<li><a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader-examples.md">https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader-examples.md</a></li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Symfony</h3>
						<ul>
							<li><a href="https://symfony.com/doc/current/controller.html">https://symfony.com/doc/current/controller.html</a></li>
							<li><a href="https://symfony.com/doc/current/components/http_kernel.html">https://symfony.com/doc/current/components/http_kernel.html</a></li>
							<li><a href="https://symfony.com/doc/current/components/yaml.html">https://symfony.com/doc/current/components/yaml.html</a></li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Routing</h3>
						<ul>
							<li><a href="https://www.drupal.org/node/2116767">https://www.drupal.org/node/2116767</a></li>
							<li><a href="https://www.drupal.org/docs/8/api/routing-system/structure-of-routes">https://www.drupal.org/docs/8/api/routing-system/structure-of-routes</a></li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Example Modules:</h3>
						<ul>
							<li><a href="http://cgit.drupalcode.org/examples/tree/?h=8.x-1.x">http://cgit.drupalcode.org/examples/tree/?h=8.x-1.x</a></li>
							<li>
								<a href="https://api.drupal.org/api/examples">https://api.drupal.org/api/examples</a>
							</li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Hooks</h3>
						<ul>
							<li><a href="https://en.wikipedia.org/wiki/Hooking">https://en.wikipedia.org/wiki/Hooking</a></li>
							<li><a href="https://www.drupal.org/docs/8/creating-custom-modules/understanding-hooks">https://www.drupal.org/docs/8/creating-custom-modules/understanding-hooks</a></li>
							<li><a href="https://x-team.com/blog/drupal-8-hooks/">https://x-team.com/blog/drupal-8-hooks/</a>
							</li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Permissions</h3>
						<ul>
							<li><a href="https://www.drupal8.ovh/en/tutoriels/66/create-a-custom-permission-drupal-8">https://www.drupal8.ovh/en/tutoriels/66/create-a-custom-permission-drupal-8</a></li>
							<li><a href="https://www.aram.cz/article/custom-permissions-drupal-8">https://www.aram.cz/article/custom-permissions-drupal-8</a></li>
							<li><a href="http://kevinquillen.com/drupal/2016/02/21/dynamic-permissions-in-drupal-8">http://kevinquillen.com/drupal/2016/02/21/dynamic-permissions-in-drupal-8</a></li>
							<li><a href="https://books.google.com/books?id=JrW9CgAAQBAJ&pg=PA66&lpg=PA66&dq=drupal+8+dynamic+permissions&source=bl&ots=_hAJX2VabR&sig=Gb_-poAvmV8pylM1alul2WCsSRA&hl=en&sa=X&ved=0ahUKEwi_x6f89vHbAhXDh1QKHe9XAXE4FBDoAQhRMAY#v=onepage&q=drupal%208%20dynamic%20permissions&f=false">Programmer's Guide to Drupal: Principles, Practices, and Pitfalls</a></li>
							<li><a href="https://books.google.com/books?id=pM7cDgAAQBAJ&pg=PA554&lpg=PA554&dq=drupal+8+dynamic+permissions&source=bl&ots=TXWp9eVH4h&sig=r-KIhVu4wZXGu2RxG5ilCMEedNI&hl=en&sa=X&ved=0ahUKEwixxKWI9_HbAhVvCTQIHfMxAcg4HhDoAQhTMAg#v=onepage&q=drupal%208%20dynamic%20permissions&f=false">Drupal 8: Enterprise Web Development</a></li>
						</ul>
					</div>

					<div class="font-10 bib">
						<h3>Plugins and Custom Blocks</h3>
						<ul>
							<li>
								<a href="https://www.drupal.org/docs/8/creating-custom-modules/create-a-custom-block">https://www.drupal.org/docs/8/creating-custom-modules/create-a-custom-block</a>
							</li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Configuration</h3>
						<ul>
							<li>
								<a href="https://www.drupal.org/docs/8/api/configuration-api/configuration-api-overview">https://www.drupal.org/docs/8/api/configuration-api/configuration-api-overview</a>
							</li>
							<li>
								<a href="https://www.drupal.org/docs/8/creating-custom-modules/defining-and-using-your-own-configuration-in-drupal-8">https://www.drupal.org/docs/8/creating-custom-modules/defining-and-using-your-own-configuration-in-drupal-8</a>
							</li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Composer</h3>
						<ul>
							<li>
								<a href="https://www.drupal.org/docs/8/creating-custom-modules/add-a-composerjson-file">https://www.drupal.org/docs/8/creating-custom-modules/add-a-composerjson-file</a>
							</li>
							<li>
								<a href="https://www.drupal.org/docs/develop/using-composer/managing-dependencies-for-a-custom-project">https://www.drupal.org/docs/develop/using-composer/managing-dependencies-for-a-custom-project</a>
							</li>
						</ul>
					</div>

					<div class="font-10 bib">
						<h3>Services</h3>
						<ul>
							<li>
								<a href="https://www.drupal.org/docs/8/api/services-and-dependency-injection/services-and-dependency-injection-in-drupal-8">https://www.drupal.org/docs/8/api/services-and-dependency-injection/services-and-dependency-injection-in-drupal-8</a>
							</li>
							<li>
								<a href="https://symfony.com/doc/3.4/service_container.html">https://symfony.com/doc/3.4/service_container.html</a>
							</li>
							<li>
								<a href="https://ffwagency.com/digital-strategies-blog/drupal-8-services-dependency-injection-and-decoupling-your-code">https://ffwagency.com/digital-strategies-blog/drupal-8-services-dependency-injection-and-decoupling-your-code</a>
							</li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Forms</h3>
						<ul>
							<li><a href="https://www.drupal.org/docs/8/api/form-api/introduction-to-form-api">https://www.drupal.org/docs/8/api/form-api/introduction-to-form-api</a></li>
							<li><a href="https://valuebound.com/resources/blog/step-by-step-method-to-create-a-custom-form-in-drupal-8">https://valuebound.com/resources/blog/step-by-step-method-to-create-a-custom-form-in-drupal-8</a></li>
							<li><a href="https://www.velir.com/blog/2016/01/04/technical-guide-drupal-8-forms">https://www.velir.com/blog/2016/01/04/technical-guide-drupal-8-forms</a></li>
							<li><a href="http://cgit.drupalcode.org/examples/tree/form_api_example">http://cgit.drupalcode.org/examples/tree/form_api_example</a></li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Module Theming</h3>
						<ul>
							<li>
								<a href="https://en.wikipedia.org/wiki/Library_(computing)">https://en.wikipedia.org/wiki/Library_(computing)</a>
							</li>
							<li>
								<a href="https://www.drupal.org/docs/8/creating-custom-modules/adding-stylesheets-css-and-javascript-js-to-a-drupal-8-module">https://www.drupal.org/docs/8/creating-custom-modules/adding-stylesheets-css-and-javascript-js-to-a-drupal-8-module</a>
							</li>
							<li>
								<a href="https://www.drupal.org/node/1887922">https://www.drupal.org/node/1887922</a>
							</li>
							<li>
								<a href="https://www.drupal.org/docs/8/creating-custom-modules/adding-stylesheets-css-and-javascript-js-to-a-drupal-8-module">https://www.drupal.org/docs/8/creating-custom-modules/adding-stylesheets-css-and-javascript-js-to-a-drupal-8-module</a>
							</li>
							<li>
								<a href="https://www.drupal.org/node/1887922">https://www.drupal.org/node/1887922</a>
							</li>
							<li>
								<a href="https://docs.acquia.com/tutorials/fast-track-drupal-8-coding/define-custom-template-module-output/">https://docs.acquia.com/tutorials/fast-track-drupal-8-coding/define-custom-template-module-output/</a>
							</li>
							<li>
								<a href="https://www.drupal.org/docs/8/theming/twig">https://www.drupal.org/docs/8/theming/twig</a>
							</li>
							<li>
								<a href="https://www.drupal.org/docs/8/theming/twig/create-custom-twig-templates-for-custom-module">https://www.drupal.org/docs/8/theming/twig/create-custom-twig-templates-for-custom-module</a>
							</li>
							<li>
								<a href="http://cgit.drupalcode.org/examples/tree/js_example">http://cgit.drupalcode.org/examples/tree/js_example</a>
							</li>
						</ul>
					</div>
					<div class="font-10 bib">
						<h3>Testing</h3>
						<ul>
							<li>
								<a href="https://www.drupal.org/docs/8/creating-custom-modules/testing">https://www.drupal.org/docs/8/creating-custom-modules/testing</a>
							</li>
							<li>
								<a href="https://www.drupal.org/docs/8/testing/types-of-tests-in-drupal-8">https://www.drupal.org/docs/8/testing/types-of-tests-in-drupal-8</a>
							</li>
							<li>
								<a href="https://www.drupal.org/node/2116043">https://www.drupal.org/node/2116043</a>
							</li>
							<li>
								<a href="https://drupal.stackexchange.com/questions/196755/why-is-my-unit-test-not-detected">https://drupal.stackexchange.com/questions/196755/why-is-my-unit-test-not-detected</a>
							</li>
						</ul>
					</div>
				</span>
				</section>
				<section>
					<h3>Questions?</h3>
					<img src="images/questions.gif" style="width: 500px;">
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				slideNumber: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
